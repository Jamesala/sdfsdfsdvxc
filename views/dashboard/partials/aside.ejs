<aside class="dark-mode">
  <div id="docsNav" class="offcanvas-lg offcanvas-start d-flex flex-column position-fixed top-0 start-0 vh-100 bg-dark border-end-lg shadow-lg rounded-end-3" style="width: 21rem; z-index: 1045;">
  <!-- Nagłówek (desktop) -->
  <div class="offcanvas-header d-none d-lg-flex align-items-center p-4">
    <a href="/dashboard" class="navbar-brand d-flex align-items-center text-light">
      <img src="https://discordzik.pl/assets/img/adm.webp" alt="Discordzik Logo" class="me-2 rounded-circle" width="36">
      <span class="fs-4 fw-bold">Discordzik</span>
    </a>
  </div>

  <!-- Nagłówek (mobile) -->
  <div class="offcanvas-header d-lg-none border-bottom p-3">
    <h5 class="mb-0 fw-bold text-light">Menu</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Zamknij"></button>
  </div>

  <!-- Treść menu -->
  <div class="offcanvas-body p-4">
    <div class="list-group list-group-flush">
      <a href="/dashboard" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard' ? 'active bg-primary' : '' %>">
        <i class="bx bxs-home me-3"></i>Panel główny
      </a>
      <a href="/dashboard/tickets" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/tickets' ? 'active bg-primary' : '' %>">
        <i class="bx bxs-coupon me-3"></i>Tickety
      </a>
      <a href="/dashboard/bots" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/bots' ? 'active bg-primary' : '' %>">
        <i class="bx bx-bot me-3"></i>Zarządzanie botami
      </a>
      <a href="/dashboard/servers" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/servers' ? 'active bg-primary' : '' %>">
        <i class="bx bx-server me-3"></i>Serwery Discord
      </a>
      <a href="/dashboard/promote" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/promote' ? 'active bg-primary' : '' %>">
        <i class="bx bx-star me-3"></i>Zarządzanie promocjami
      </a>
      <a href="/dashboard/comments" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/comments' ? 'active bg-primary' : '' %>">
        <i class="bx bx-comment me-3"></i>Komentarze
      </a>
      <a href="/dashboard/notifications" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/notifications' ? 'active bg-primary' : '' %>">
        <i class="bx bx-bell me-3"></i>Powiadomienia
      </a>
      <a href="/dashboard/shop" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/shop' ? 'active bg-primary' : '' %>">
        <i class="bx bx-shopping-cart me-3"></i>Sklepy Serwerów
      </a>
      <a href="/dashboard/badges" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/badges' ? 'active bg-primary' : '' %>">
        <i class="bx bx-medal me-3"></i>Zarządzanie odznakami
      </a>
      <a href="/dashboard/bans" class="list-group-item list-group-item-action bg-dark text-light py-2 px-3 rounded mb-1 d-flex align-items-center <%= req.url == '/dashboard/bans' ? 'active bg-primary' : '' %>">
        <i class="bx bx-block me-3"></i>Lista zbanowanych
      </a>
    </div>

    <!-- Dolna sekcja -->
    <div class="mt-4">
      <a href="/" class="btn btn-outline-light w-100 mb-2 d-flex align-items-center justify-content-center">
        <i class="bx bx-link-external me-2"></i>Przejdź do strony
      </a>
      <a href="/logout" class="btn btn-danger w-100 d-flex align-items-center justify-content-center">
        <i class="bx bx-log-out me-2"></i>Wyloguj się
      </a>
      <div class="text-center text-muted mt-3 small">
        v1.2.0 · <%= new Date().getFullYear() %>
      </div>
    </div>
  </div>
</aside>

<style>
 /* Styl dla aside */
#docsNav {
  transition: transform 0.3s ease;
}

.list-group-item {
  transition: background-color 0.2s ease, transform 0.2s ease;
}

.list-group-item:hover:not(.active) {
  background-color: rgba(255, 255, 255, 0.1) !important;
  transform: translateX(3px);
}

.list-group-item.active {
  background-color: #5024f3 !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

@media (max-width: 992px) {
  #docsNav {
    width: 100%;
    max-width: 300px;
  }

  .offcanvas-body {
    padding: 1rem;
  }

  .list-group-item {
    padding: 0.75rem 1rem;
  }
}

@media (max-width: 576px) {
  .offcanvas-header {
    padding: 0.5rem;
  }

  .btn {
    padding: 0.5rem;
    font-size: 0.875rem;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // Inicjalizacja tooltipów
  const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
  tooltipTriggerList.forEach(el => new bootstrap.Tooltip(el));

  // Zarządzanie offcanvas na mobile
  const offcanvas = document.getElementById('docsNav');
  const updateOffcanvas = () => {
    if (window.innerWidth < 992) {
      offcanvas.classList.add('offcanvas');
    } else {
      offcanvas.classList.remove('offcanvas');
    }
  };

  updateOffcanvas();
  window.addEventListener('resize', updateOffcanvas);
});
</script>